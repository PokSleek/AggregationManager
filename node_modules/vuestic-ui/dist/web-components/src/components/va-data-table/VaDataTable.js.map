{"version":3,"file":"VaDataTable.js","sources":["../../../../../src/components/va-data-table/VaDataTable.vue"],"sourcesContent":["<template>\n  <va-virtual-scroller\n    class=\"va-data-table\"\n    v-bind=\"computedAttributes\"\n    ref=\"scrollContainer\"\n  >\n    <template #content=\"{\n        uniqueKey,\n        renderBuffer,\n        currentListOffset,\n        listStyleComputed,\n        containerStyleComputed,\n      }\">\n      <va-inner-loading\n        aria-live=\"polite\"\n        :style=\"containerStyleComputed\"\n        :loading=\"loading\"\n        :color=\"loadingColor\"\n      >\n        <div\n          v-if=\"doRenderTopTrigger\"\n          ref=\"topTrigger\"\n          class=\"va-data-table__scroll-trigger\"\n        />\n\n        <table\n          class=\"va-data-table__table\"\n          :style=\"listStyleComputed\"\n          v-bind=\"computedTableAttributes\"\n        >\n\n          <colgroup v-if=\"'colgroup' in $slots\">\n            <slot name=\"colgroup\" v-bind=\"columnsComputed\" />\n          </colgroup>\n\n          <thead\n            class=\"va-data-table__table-thead\"\n            :class=\"{ 'va-data-table__table-thead--sticky': $props.stickyHeader }\"\n            :style=\"{ top: isVirtualScroll && $props.stickyHeader ? `-${currentListOffset}px` : undefined }\"\n          >\n\n            <slot name=\"headerPrepend\" />\n\n            <slot name=\"header\">\n              <va-data-table-th-row\n                v-if=\"!hideDefaultHeader\"\n                v-bind=\"thAttributesComputed\"\n                v-on:toggleBulkSelection=\"toggleBulkSelection\"\n                v-on:toggleSorting=\"toggleSorting\"\n              >\n                <template v-for=\"(_, slot) of $slots\" v-slot:[slot]=\"scope\"><slot :name=\"slot\" v-bind=\"scope\" /></template>\n              </va-data-table-th-row>\n            </slot>\n\n            <slot name=\"headerAppend\" />\n          </thead>\n\n          <tbody\n            ref=\"list\"\n            class=\"va-data-table__table-tbody\"\n          >\n\n            <slot name=\"bodyPrepend\" />\n\n            <transition-group\n              :name=\"isVirtualScroll ? '' : animationName\"\n              :css=\"!$props.virtualScroller\"\n              :appear=\"!$props.virtualScroller\"\n            >\n              <tr\n                v-if=\"showNoDataHtml\"\n                key=\"showNoDataHtml\"\n              >\n                <td\n                  class=\"no-data\"\n                  :colspan=\"columnsComputed.length + (selectable ? 1 : 0)\"\n                  v-html=\"noDataHtml\"\n                />\n              </tr>\n\n              <tr\n                v-else-if=\"showNoDataFilteredHtml\"\n                key=\"showNoDataFilteredHtml\"\n              >\n                <td\n                  class=\"no-data\"\n                  :colspan=\"columnsComputed.length + (selectable ? 1 : 0)\"\n                  v-html=\"noDataFilteredHtml\"\n                />\n              </tr>\n\n              <template\n                v-for=\"(row, index) in renderBuffer\"\n                :key=\"`table-row_${uniqueKey(row, index)}`\"\n              >\n                <tr\n                  class=\"va-data-table__table-tr\"\n                  :class=\"[{ selected: isRowSelected(row), 'va-data-table__table-tr--expanded': row.isExpandableRowVisible }]\"\n                  v-bind=\"getRowBind(row)\"\n                  @click=\"onRowClickHandler('row:click', $event, row)\"\n                  @dblclick=\"onRowClickHandler('row:dblclick', $event, row)\"\n                  @contextmenu=\"onRowClickHandler('row:contextmenu', $event, row)\"\n                >\n                  <td\n                    v-if=\"selectable && !$props.grid\"\n                    class=\"va-data-table__table-td va-data-table__table-cell-select\"\n                    :key=\"`selectable_${uniqueKey(row, index)}`\"\n                    @selectstart.prevent\n                  >\n                    <va-checkbox\n                      class=\"va-data-table__table-cell-checkbox\"\n                      :model-value=\"isRowSelected(row)\"\n                      :color=\"selectedColor\"\n                      :aria-label=\"t(`selectRowByIndex`, { index: row.initialIndex })\"\n                      @click.shift.exact.stop=\"shiftSelectRows(row)\"\n                      @click.ctrl.exact.stop=\"ctrlSelectRow(row)\"\n                      @click.exact.stop=\"ctrlSelectRow(row)\"\n                    />\n                  </td>\n\n                  <td\n                    v-for=\"(cell, cellIndex) in row.cells\"\n                    :key=\"`table-cell_${cell.column.name + cell.rowIndex}`\"\n                    class=\"va-data-table__table-td\"\n                    :class=\"getClass(cell.column.tdClass)\"\n                    :style=\"[getCellCSSVariables(cell), getStyle(cell.column.tdStyle)]\"\n                    v-bind=\"getCellBind(cell, row)\"\n                  >\n                    <slot\n                      v-if=\"`cell(${cell.column.name})` in $slots\"\n                      :name=\"`cell(${cell.column.name})`\"\n                      v-bind=\"{ ...cell, row, isExpanded: row.isExpandableRowVisible }\"\n                    />\n\n                    <slot v-else name=\"cell\" v-bind=\"{ cell, row }\">\n                      <span v-if=\"$props.grid\" class=\"va-data-table__grid-column-header\">{{ columnsComputed[cellIndex].label }}</span>\n                      {{ cell.value }}\n                    </slot>\n                  </td>\n                </tr>\n                <tr\n                  v-show=\"row.isExpandableRowVisible\"\n                  class=\"va-data-table__table-tr--expanded va-data-table__table-expanded-content\"\n                >\n                  <td :colspan=\"row.cells.length\">\n                    <slot\n                      name=\"expandableRow\"\n                      v-bind=\"row\"\n                    />\n                  </td>\n                </tr>\n              </template>\n            </transition-group>\n\n            <slot name=\"bodyAppend\" />\n          </tbody>\n\n          <tfoot\n            v-if=\"$slots.footer || (footerClone && !$props.grid)\"\n            class=\"va-data-table__table-tfoot\"\n            :class=\"{ 'va-data-table__table-tfoot--sticky': $props.stickyFooter }\"\n            :style=\"{ bottom: isVirtualScroll && $props.stickyFooter ? `${currentListOffset}px` : undefined }\"\n          >\n            <slot name=\"footerPrepend\" />\n\n            <slot name=\"footer\">\n              <va-data-table-th-row\n                v-if=\"!hideDefaultHeader\"\n                v-bind=\"thAttributesComputed\"\n                is-footer\n                v-on:toggleBulkSelection=\"toggleBulkSelection\"\n                v-on:toggleSorting=\"toggleSorting\"\n              >\n                <template v-for=\"(_, slot) of $slots\" v-slot:[slot]=\"scope\"><slot :name=\"slot\" v-bind=\"scope\" /></template>\n              </va-data-table-th-row>\n            </slot>\n\n            <slot name=\"footerAppend\" />\n          </tfoot>\n        </table>\n\n        <div\n          v-if=\"doRenderBottomTrigger\"\n          ref=\"bottomTrigger\"\n          class=\"va-data-table__scroll-trigger\"\n        />\n      </va-inner-loading>\n    </template>\n  </va-virtual-scroller>\n</template>\n\n<script lang=\"ts\">\nimport { PropType, defineComponent, computed, TableHTMLAttributes, StyleValue } from 'vue'\nimport omit from 'lodash/omit.js'\nimport pick from 'lodash/pick.js'\n\nimport { useColumns, useColumnsProps } from './hooks/useColumns'\nimport { usePaginatedRows, usePaginatedRowsProps } from './hooks/usePaginatedRows'\nimport { useSelectableRow, useSelectableProps } from './hooks/useSelectableRow'\nimport { useStylable, useStylableProps } from './hooks/useStylable'\nimport { useBinding, useBindingProps } from './hooks/useBinding'\nimport { useAnimationName, useAnimationNameProps } from './hooks/useAnimationName'\nimport { useRows, useRowsProps } from './hooks/useRows'\nimport { useFilterable, useFilterableProps } from './hooks/useFilterable'\nimport { useSortable, useSortableProps } from './hooks/useSortable'\nimport { useTableScroll, useTableScrollProps, useTableScrollEmits } from './hooks/useTableScroll'\n\nimport { useComponentPresetProp, useTranslation, useThrottleProps } from '../../composables'\n\nimport { extractComponentProps, filterComponentProps } from '../../utils/component-options'\n\nimport type { DataTableRow } from './types'\n\nimport { VaDataTableThRow } from './components'\nimport { VaVirtualScroller } from '../va-virtual-scroller'\nimport { VaInnerLoading } from '../va-inner-loading'\nimport { VaCheckbox } from '../va-checkbox'\n\nconst VaVirtualScrollerProps = extractComponentProps(VaVirtualScroller, ['items', 'trackBy', 'horizontal', 'disabled', 'table'])\nconst VaDataTableThRowProps = extractComponentProps(VaDataTableThRow)\n\ntype emitNames = 'update:modelValue' |\n  'update:sortBy' |\n  'update:sortingOrder' |\n  'filtered' |\n  'sorted' |\n  'selectionChange' |\n  'row:click' |\n  'row:dblclick' |\n  'row:contextmenu' |\n  'scroll:top' |\n  'scroll:bottom'\n\nexport default defineComponent({\n  name: 'VaDataTable',\n\n  components: {\n    VaDataTableThRow,\n    VaVirtualScroller,\n    VaInnerLoading,\n    VaCheckbox,\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    ...useComponentPresetProp,\n    ...VaVirtualScrollerProps,\n    ...useAnimationNameProps,\n    ...useBindingProps,\n    ...useTableScrollProps,\n    ...useSortableProps,\n    ...useStylableProps,\n    ...useColumnsProps,\n    ...useFilterableProps,\n    ...usePaginatedRowsProps,\n    ...useRowsProps,\n    ...useSelectableProps,\n    ...useThrottleProps,\n    hoverable: { type: Boolean, default: false },\n    clickable: { type: Boolean, default: false },\n    loading: { type: Boolean, default: false },\n    loadingColor: { type: String, default: 'primary' },\n    noDataHtml: { type: String, default: 'No items' },\n    noDataFilteredHtml: { type: String, default: 'No items match the provided filtering condition' },\n    hideDefaultHeader: { type: Boolean, default: false },\n    footerClone: { type: Boolean, default: false },\n    striped: { type: Boolean, default: false },\n    virtualScroller: { type: Boolean, default: false },\n    virtualTrackBy: { type: [String, Number] as PropType<string | number>, default: 'initialIndex' },\n    grid: { type: Boolean, default: false },\n    gridColumns: { type: Number, default: 0 },\n    wrapperSize: { type: [Number, String] as PropType<number | string | 'auto'>, default: 'auto' },\n  },\n\n  emits: [\n    'update:modelValue', // `modelValue` is selectedItems\n    'update:sortBy',\n    'update:sortingOrder',\n    'filtered',\n    'sorted',\n    'selectionChange',\n    'row:click',\n    'row:dblclick',\n    'row:contextmenu',\n    ...useTableScrollEmits,\n  ],\n\n  setup (props, { attrs, emit }) {\n    const { columnsComputed } = useColumns(props)\n\n    const { rowsComputed } = useRows(columnsComputed, props)\n\n    const { filteredRows } = useFilterable(rowsComputed, props, emit)\n\n    const {\n      sortBySync,\n      sortingOrderSync,\n      toggleSorting,\n      sortedRows,\n      sortingOrderIconName,\n    } = useSortable(columnsComputed, filteredRows, props, emit)\n\n    const { paginatedRows } = usePaginatedRows(sortedRows, props)\n\n    const {\n      ctrlSelectRow,\n      shiftSelectRows,\n      toggleBulkSelection,\n      isRowSelected,\n      severalRowsSelected,\n      allRowsSelected,\n      toggleRowSelection,\n    } = useSelectableRow(paginatedRows, props, emit)\n\n    const {\n      CSSVariables,\n      getCellCSSVariables,\n      getClass,\n      getStyle,\n    } = useStylable(props)\n\n    const { getRowBind, getCellBind } = useBinding(props)\n\n    const animationName = useAnimationName(props, paginatedRows)\n\n    const showNoDataHtml = computed(() => props.items.length === 0)\n\n    const showNoDataFilteredHtml = computed(() => paginatedRows.value.length === 0)\n\n    const onRowClickHandler = (name: emitNames, event: Event, row: DataTableRow) => {\n      if (props.clickable) {\n        emit(name, {\n          event,\n          item: row.source,\n          itemIndex: row.initialIndex,\n        })\n      }\n\n      if (props.selectable && props.grid) {\n        toggleRowSelection(row)\n      }\n    }\n\n    const computedTableAttributes = computed(() => ({\n      ...omit(attrs, ['class', 'style']),\n      class: pick(props, ['striped', 'selectable', 'hoverable', 'clickable']),\n    }) as TableHTMLAttributes)\n\n    const filteredVirtualScrollerProps = filterComponentProps(VaVirtualScrollerProps)\n    const virtualScrollerPropsComputed = computed(() => ({\n      ...filteredVirtualScrollerProps.value,\n      items: paginatedRows.value,\n      trackBy: props.virtualTrackBy,\n      disabled: !props.virtualScroller,\n      table: true,\n    }))\n\n    const computedAttributes = computed(() => ({\n      class: [\n        { 'va-data-table--sticky': props.stickyHeader || props.stickyFooter },\n        { 'va-data-table--scroll': !!props.height },\n        { 'va-data-table--virtual-scroller': isVirtualScroll.value },\n        { 'va-data-table--grid': props.grid },\n        attrs.class as string[],\n      ],\n      style: [attrs.style as StyleValue],\n      ...virtualScrollerPropsComputed.value,\n    }))\n\n    const filteredThProps = filterComponentProps(VaDataTableThRowProps)\n    const thAttributesComputed = computed(() => ({\n      ...filteredThProps.value,\n      columns: columnsComputed.value,\n      sortingOrderIconName: sortingOrderIconName.value,\n      severalRowsSelected: severalRowsSelected.value,\n      sortingOrderSync: sortingOrderSync.value,\n      allRowsSelected: allRowsSelected.value,\n      sortBySync: sortBySync.value,\n    }))\n\n    const {\n      scrollContainer,\n      topTrigger,\n      bottomTrigger,\n      doRenderTopTrigger,\n      doRenderBottomTrigger,\n    } = useTableScroll(props, emit)\n\n    const isVirtualScroll = computed(() => props.virtualScroller && !props.grid)\n\n    const gridColumnsCount = computed(() => props.gridColumns || 'var(--va-data-table-grid-tbody-columns)')\n\n    return {\n      ...useTranslation(),\n      scrollContainer,\n      topTrigger,\n      bottomTrigger,\n      columnsComputed,\n      ctrlSelectRow,\n      shiftSelectRows,\n      toggleBulkSelection,\n      isRowSelected,\n      toggleSorting,\n      CSSVariables,\n      getCellCSSVariables,\n      getClass,\n      getStyle,\n      thAttributesComputed,\n      showNoDataHtml,\n      showNoDataFilteredHtml,\n      onRowClickHandler,\n      computedAttributes,\n      computedTableAttributes,\n      animationName,\n      getRowBind,\n      getCellBind,\n      doRenderTopTrigger,\n      doRenderBottomTrigger,\n      isVirtualScroll,\n      gridColumnsCount,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources/index.scss\";\n@import \"variables\";\n\n// we set vatiables below via the `useStylable` hook\n.va-data-table {\n  --va-data-table-selected-color: v-bind('CSSVariables.selectedColor');\n  --va-data-table-hover-color: v-bind('CSSVariables.hoverColor');\n  --va-data-table-height--computed: v-bind('CSSVariables.tableHeight');\n  --va-data-table-thead-background--computed: v-bind('CSSVariables.theadBg');\n  --va-data-table-tfoot-background--computed: v-bind('CSSVariables.tfootBg');\n  --va-data-table-grid-tbody-columns: 4;\n\n  @include media-breakpoint-down(lg) {\n    --va-data-table-grid-tbody-columns: 3;\n  }\n\n  @include media-breakpoint-down(md) {\n    --va-data-table-grid-tbody-columns: 2;\n  }\n\n  @include media-breakpoint-down(sm) {\n    --va-data-table-grid-tbody-columns: 1;\n  }\n\n  min-width: unset;\n  font-family: var(--va-font-family);\n\n  &:not(.va-data-table--virtual-scroller) {\n    overflow-x: auto;\n    overflow-y: hidden;\n  }\n\n  &--sticky:not(.va-data-table--virtual-scroller),\n  &--scroll {\n    overflow-y: auto;\n    height: var(--va-data-table-height--computed);\n    max-height: var(--va-data-table-max-height);\n  }\n\n  .va-data-table__table {\n    width: 100%;\n    cursor: default;\n    white-space: nowrap;\n\n    .va-data-table__table-thead {\n      color: var(--va-data-table-thead-color);\n      border-bottom: var(--va-data-table-thead-border);\n\n      th {\n        border-bottom: none;\n        box-shadow: var(--va-data-table-thead-border-bottom-shadow);\n      }\n\n      &--sticky {\n        position: sticky;\n        top: 0;\n        z-index: 1;\n        background: var(--va-data-table-thead-background--computed);\n      }\n    }\n\n    .va-data-table__table-tbody {\n      .no-data {\n        text-align: var(--va-data-table-no-data-text-align);\n        vertical-align: var(--va-data-table-no-data-vertical-align);\n      }\n    }\n\n    .va-data-table__table-tfoot {\n      color: var(--va-data-table-tfoot-color);\n      border-top: var(--va-data-table-thead-border);\n\n      th {\n        border-bottom: none;\n        box-shadow: var(--va-data-table-thead-border-top-shadow);\n      }\n\n      &--sticky {\n        position: sticky;\n        bottom: 0;\n        z-index: 1;\n        background: var(--va-data-table-tfoot-background--computed);\n      }\n    }\n\n    .va-data-table__table-td {\n      padding: var(--va-data-table-cell-padding);\n      text-align: var(--va-data-table-align);\n      vertical-align: var(--va-data-table-vertical-align);\n    }\n\n    .va-data-table__table-th,\n    .va-data-table__table-td {\n      &.va-data-table__table-cell-select {\n        width: var(--va-data-table-selectable-cell-width);\n        min-width: var(--va-data-table-selectable-cell-width);\n        text-align: var(--va-data-table-selectable-cell-text-align);\n        vertical-align: var(--va-data-table-selectable-cell-vertical-align);\n        cursor: var(--va-data-table-selectable-tr-cursor);\n      }\n\n      & .va-data-table__table-cell-checkbox {\n        display: block;\n      }\n    }\n\n    .va-data-table__table-tr {\n      &.selected {\n        background-color: var(--va-data-table-selected-color);\n      }\n    }\n\n    &.clickable {\n      .va-data-table__table-tr {\n        cursor: pointer;\n      }\n    }\n\n    &.striped {\n      .va-data-table__table-tr {\n        position: relative;\n        z-index: 0;\n\n        &:nth-child(2n) {\n          &:not(.selected) {\n            @include va-background(var(--va-data-table-striped-tr-background-color), var(--va-data-table-striped-tr-opacity), -1);\n          }\n        }\n      }\n    }\n\n    &.selectable,\n    &.hoverable {\n      :not(thead, tfoot) {\n        .va-data-table__table-tr {\n          &:hover {\n            background-color: var(--va-data-table-hover-color);\n          }\n        }\n\n        .va-data-table__table-tr:nth-child(2n) {\n          &:hover {\n            background-color: var(--va-data-table-hover-color);\n\n            @include va-background-opacity(transparent);\n          }\n        }\n      }\n    }\n\n    .table-transition-fade-leave-active {\n      transition: opacity var(--va-data-table-transition);\n    }\n\n    .table-transition-fade-enter-active {\n      transition: opacity var(--va-data-table-transition) 0.2s;\n    }\n\n    .table-transition-fade-enter-from,\n    .table-transition-shuffle-enter-from,\n    .table-transition-fade-leave-to,\n    .table-transition-shuffle-leave-to {\n      opacity: 0;\n    }\n\n    .table-transition-shuffle-move {\n      transition: transform var(--va-data-table-transition);\n    }\n\n    .table-transition-shuffle-leave-active {\n      transition: none;\n    }\n\n    .table-transition-shuffle-enter-active {\n      transition: opacity var(--va-data-table-transition);\n    }\n  }\n\n  &__scroll-trigger {\n    user-select: none;\n  }\n\n  &--grid {\n    .va-data-table__table-thead {\n      .va-data-table__table-tr {\n        display: flex;\n        justify-content: space-between;\n\n        .va-data-table__table-th {\n          box-shadow: none;\n        }\n\n        @include media-breakpoint-down(sm) {\n          flex-direction: column;\n        }\n      }\n    }\n\n    .va-data-table__table-tbody {\n      margin-top: var(--va-data-table-grid-tbody-margin-top);\n      display: grid;\n      grid-template-columns: repeat(v-bind(gridColumnsCount), minmax(0, 1fr));\n      gap: var(--va-data-table-grid-tbody-gap);\n\n      .va-data-table__table-tr {\n        grid-column: span 1 / span 1;\n        padding: var(--va-data-table-grid-tr-padding);\n        display: flex;\n        flex-direction: column;\n        border: var(--va-data-table-grid-tr-border);\n        border-radius: var(--va-data-table-grid-tr-border-radius);\n      }\n\n      .va-data-table__table-td {\n        overflow: hidden;\n      }\n    }\n\n    .selectable {\n      .va-data-table__table-tr {\n        cursor: pointer;\n      }\n    }\n\n    .va-data-table__table-td {\n      display: flex;\n      flex-direction: column;\n    }\n\n    .va-data-table__grid-column-header {\n      font-weight: var(--va-data-table-grid-tr-header-font-weight);\n      color: var(--va-data-table-grid-tr-header-color);\n    }\n  }\n}\n</style>\n"],"names":["omit","pick","_createBlock","_mergeProps","_withCtx","_createVNode","_normalizeStyle","_openBlock","_createElementBlock","_createCommentVNode","_createElementVNode","_renderSlot","_normalizeClass","_createSlots","_normalizeProps","_guardReactiveProps","_TransitionGroup","_Fragment","_renderList","_withModifiers","_toDisplayString","_withDirectives","_vShow"],"mappings":"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"}